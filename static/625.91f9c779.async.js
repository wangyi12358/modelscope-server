(self.webpackChunkai_frontend=self.webpackChunkai_frontend||[]).push([[625],{65348:function(L,Z,r){"use strict";r.d(Z,{Z:function(){return C}});var b=r(93236),i=r(38430),O={langBadge:"langBadge___GAdAy"},T=r(62086),M=[{lang:"en_US",name:"EN"},{lang:"zh_CN",name:"\u4E2D\u6587"}],f=(0,i.l)(M,"lang"),I=function(j){var p=f.get(j.lang);return(0,T.jsx)("span",{className:O.langBadge,style:{backgroundColor:p.color.textColor},children:p.name})},C=I},35331:function(L,Z,r){"use strict";r.r(Z),r.d(Z,{default:function(){return Ve}});var b=r(30279),i=r.n(b),O=r(46686),T=r.n(O),M=r(35290),f=r.n(M),I=r(411),C=r.n(I),s=r(93236),j=r(8195),p=r(35768),P=r(66122),N=r(24381),w=r(46859),k=r(44463),W=r.n(k),G=r(86004),e=r(62086),q=G.Z.TextArea,_=(0,s.memo)(function(n){return(0,e.jsx)(q,i()({rows:6,placeholder:"\u8BF7\u8F93\u5165\u6D4B\u8BD5\u5185\u5BB9."},n))}),ee=_,ae=r(41385),re=r(17771),ne=r(5476),te={preview:"preview___JkCd9"},oe=(0,s.memo)(function(n){var u=n.src,t=u===void 0?"":u,a=n.autoplay,c=a===void 0?"muted":a,B=(0,re.A)({sources:[{src:t}],autoplay:c}),E=B.Video,y=(0,s.useMemo)(function(){return t?(0,ne.fromExtension)(t):void 0},[t]),U=(0,s.useMemo)(function(){var o=null;return y==="image"&&(o=(0,e.jsx)(ae.Z,{src:t,width:300,preview:!0})),y==="video"&&(o=(0,e.jsx)(E,{src:t,width:300})),y==="audio"&&(o=(0,e.jsx)("video",{controls:!0,autoPlay:!1,children:(0,e.jsx)("source",{src:t,type:"audio/x-wav"})})),o},[E,y,t]);return(0,e.jsx)("div",{className:te.preview,children:U})}),Y=oe,le=r(47277),ue=r(94434),J=r.n(ue),se=r(65713),ie=r(17986),de=r(61654),H=r(87976);function ve(){return V.apply(this,arguments)}function V(){return V=C()(f()().mark(function n(){return f()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",H.Z.get("oss/sign"));case 1:case"end":return t.stop()}},n)})),V.apply(this,arguments)}var ce=(0,s.memo)(function(n){var u=n.value,t=n.onChange,a=n.children,c=n.onUploaded,B=n.accept,E=B===void 0?"video/*, image/*":B,y=(0,s.useState)(),U=T()(y,2),o=U[0],D=U[1],A=function(){var S=C()(f()().mark(function g(){var d,v;return f()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,ve();case 3:v=l.sent,D(v==null||(d=v.data)===null||d===void 0?void 0:d.data),l.next=11;break;case 7:l.prev=7,l.t0=l.catch(0),console.error(l.t0),se.ZP.error("\u4E0A\u4F20\u5931\u8D25,\u8BF7\u7A0D\u540E\u91CD\u8BD5");case 11:case"end":return l.stop()}},g,null,[[0,7]])}));return function(){return S.apply(this,arguments)}}(),$=function(g){var d,v=g.fileList;t==null||t(J()(v)),v==null||(d=v.forEach)===null||d===void 0||d.call(v,function(m){if((m==null?void 0:m.percent)===100){var l=(o==null?void 0:o.host)+"/"+(m==null?void 0:m.url);c==null||c(l,m)}})},F=function(g){return{key:g.url,OSSAccessKeyId:o==null?void 0:o.OSSAccessKeyId,policy:o==null?void 0:o.policy,Signature:o==null?void 0:o.Signature}},z=function(){var S=C()(f()().mark(function g(d){var v,m,l;return f()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(o){h.next=2;break}return h.abrupt("return",!1);case 2:if(v=Number(o.expire)*1e3,!(v<Date.now())){h.next=6;break}return h.next=6,A();case 6:return m=d.name.slice(d.name.lastIndexOf(".")),l=Date.now()+m,d.url=o.dir+"/"+l,h.abrupt("return",d);case 10:case"end":return h.stop()}},g)}));return function(d){return S.apply(this,arguments)}}(),K={name:"file",fileList:u,multiple:!1,maxCount:1,accept:E,action:o==null?void 0:o.host,onChange:$,data:F,beforeUpload:z,showUploadList:!1};return(0,e.jsx)(ie.Z,i()(i()({},K),{},{children:a||(0,e.jsx)(P.Z,{onClick:function(){A()},icon:(0,e.jsx)(de.Z,{}),children:"\u70B9\u51FB\u4E0A\u4F20"})}))}),fe=ce,me=(0,s.memo)(function(n){var u=n.accept,t=n.value,a=n.onChange,c=a===void 0?function(){}:a,B=function(o){var D=o.target.value;c(D)},E=(0,le.Z)(B,{wait:300}),y=E.run;return(0,e.jsxs)("div",{children:[(0,e.jsx)(Y,{src:t}),(0,e.jsxs)(G.Z.Group,{compact:!0,children:[(0,e.jsx)(G.Z,{style:{width:"80%"},value:t,onChange:y})," ",(0,e.jsx)(fe,{accept:u,onUploaded:function(o){c(o)}})]})]})}),he=me,pe=["type"],ge=(0,s.memo)(function(n){var u=n.type,t=W()(n,pe);switch(u){case"text":return(0,e.jsx)(ee,i()({},t));case"audioUrl":case"videoUrl":case"imageUrl":{var a="";return u==="audioUrl"&&(a=".wav"),u==="videoUrl"&&(a="video/*"),u==="imageUrl"&&(a="image/*"),(0,e.jsx)(he,i()(i()({},t),{},{accept:a}))}default:return(0,e.jsxs)("div",{children:["\u6682\u65E0\u6B64\u7C7B\u578B\u8F93\u5165\u6A21\u5757 : ",(0,e.jsx)("strong",{children:u})]})}}),xe=ge,Ce={wrap:"wrap___pfl52"},je=(0,s.memo)(function(n){var u=n.children,t=n.type,a=n.color;return t?(0,e.jsxs)("dl",{className:Ce.wrap,style:{backgroundColor:a==null?void 0:a.bgColor,borderColor:a==null?void 0:a.textColor},children:[(0,e.jsx)("dt",{children:u}),(0,e.jsx)("dd",{style:{color:a==null?void 0:a.textColor},children:t})]}):(0,e.jsx)("span",{children:u})}),ye=je,Fe=r(38430),Be=(0,s.memo)(function(n){var u=n.data;if(u&&u.length){var t=(0,Fe.l)(u);return(0,e.jsx)(e.Fragment,{children:J()(t.values()).map(function(a,c){return(0,e.jsx)(ye,{type:a.label,color:a.color,children:a.span},c)})})}return null}),De=Be,Se=r(33900),Ze=(0,s.memo)(function(n){return n.data?(0,e.jsx)(Se.Z,{pagination:!1,bordered:!0,dataSource:n.data,rowKey:"label",columns:[{dataIndex:"label",title:"\u9884\u6D4B\u7ED3\u679C"},{dataIndex:"score",title:"\u9884\u6D4B\u6982\u7387(\u53EF\u4FE1\u5EA6)"}]}):null}),Ee=Ze,Q={list:"list___YYeub",item:"item___IFnRV"},Ue=(0,s.memo)(function(n){var u=n.data;if(!u)return null;var t=[].concat(u);return(0,e.jsx)("div",{className:Q.list,children:t.map(function(a,c){return(0,e.jsx)("div",{className:Q.item,children:a},c)})})}),Oe=Ue,Ae=(0,s.memo)(function(n){var u=n.data;return(0,e.jsx)(Y,{src:u})}),be=Ae,Te=["type"],Me=(0,s.memo)(function(n){var u=n.type,t=W()(n,Te);switch(u){case"texts":case"text":return(0,e.jsx)(Oe,i()({},t));case"audioUrl":case"videoUrl":case"imageUrl":return(0,e.jsx)(be,i()({},t));case"scores":return(0,e.jsx)(Ee,i()({},t));case"spans":return(0,e.jsx)(De,i()({},t));default:return(0,e.jsxs)("div",{children:["\u6682\u65E0\u6B64\u7C7B\u578B\u8F93\u51FA\u6A21\u5757 : ",(0,e.jsx)("strong",{children:u})]})}}),Pe=Me,Ie=r(36752),$e=r(74524),we={footer:"footer___CvaU9"},Re=r(66124),Le=r(65348),X=j.Z.Title,ze=j.Z.Text,Ne=j.Z.Paragraph,Ge=(0,s.memo)(function(n){var u,t,a=n.model,c=n.open,B=n.onClose,E=function(){var l=C()(f()().mark(function x(h){return f()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",H.Z.post(a.apiPath,h));case 1:case"end":return R.stop()}},x)}));return function(h){return l.apply(this,arguments)}}(),y=p.Z.useForm(),U=T()(y,1),o=U[0],D=(a==null?void 0:a.samples)&&a.samples.length>0,A=(0,Re.Z)(E,{manual:!0}),$=A.loading,F=A.data,z=A.run,K=A.mutate,S=(0,s.useCallback)(function(){if(D){var l=(0,Ie.ei)(a.samples);o.setFieldValue("inputContent",l)}},[o,D,a]),g=function(){return D&&a.samples.length>1?(0,e.jsx)(P.Z,{size:"small",disabled:$,onClick:S,icon:(0,e.jsx)($e.Z,{}),children:"\u66F4\u6362\u793A\u4F8B"}):null},d=(0,s.useMemo)(function(){return(0,e.jsx)(p.Z.Item,{name:"inputContent",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6D4B\u8BD5\u5185\u5BB9!"}],children:(0,e.jsx)(xe,{type:a.input})})},[a]),v=(0,s.useMemo)(function(){var l;if(F&&F!==null&&F!==void 0&&(l=F.data)!==null&&l!==void 0&&l.data){var x,h=F==null||(x=F.data)===null||x===void 0?void 0:x.data;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(X,{level:5,children:"\u6D4B\u8BD5\u7ED3\u679C:"}),(0,e.jsx)(Pe,{type:a.output,data:h})]})}return null},[F,a]),m=function(x){z(i()({},x))};return(0,s.useEffect)(function(){D&&o.setFieldValue("inputContent",a==null?void 0:a.samples[0])},[o,D,a==null?void 0:a.samples]),a?(0,e.jsx)(N.Z,{extra:g(),title:(0,e.jsxs)("span",{children:[a.name," \u6D4B\u8BD5\u5185\u5BB9"," ",(0,e.jsx)(w.Z,{children:(u=a.languages)===null||u===void 0?void 0:u.map(function(l){return(0,e.jsx)(Le.Z,{lang:l},l)})})]}),afterOpenChange:function(x){x?S():(o.resetFields(),K(void 0))},destroyOnClose:!0,open:c,onClose:B,width:"70%",footer:(0,e.jsx)("div",{className:we.footer,children:(0,e.jsxs)(w.Z,{size:24,children:[(0,e.jsx)(P.Z,{onClick:B,children:"\u5173\u95ED"}),(0,e.jsx)(P.Z,{type:"primary",onClick:function(){return o.submit()},loading:$,children:"\u63D0\u4EA4\u6D4B\u8BD5"})]})}),children:(0,e.jsxs)("div",{children:[(0,e.jsx)(p.Z,{layout:"vertical",form:o,onFinish:m,children:d}),(0,e.jsx)("div",{children:$?(0,e.jsx)(X,{level:5,children:"\u6D4B\u8BD5\u7ED3\u679C\u751F\u6210\u4E2D, \u8BF7\u7A0D\u7B49..."}):v}),a!=null&&a.desc?(0,e.jsx)(Ne,{children:a==null||(t=a.desc)===null||t===void 0?void 0:t.split(`
`).map(function(l){return(0,e.jsx)("p",{children:l})})}):null]})}):null}),Ve=Ge},38430:function(L,Z,r){"use strict";r.d(Z,{l:function(){return I}});var b=r(30279),i=r.n(b),O=r(94434),T=r.n(O),M=new Map([["blue",{textColor:"#5B8DFA",bgColor:"#EBF0FF"}],["purple",{textColor:"#9978F6",bgColor:"#EFE9FF"}],["cyan",{textColor:"#5DD5D1",bgColor:"#E5FCF7"}],["pink",{textColor:"#DD73F6",bgColor:"#FFE8FF"}],["yellow",{textColor:"#F9B847",bgColor:"#FFF6E3"}],["green",{textColor:"#5BD695",bgColor:"#EDFCF3"}],["red",{textColor:"#F26691",bgColor:"#FFECF0"}],["lime",{textColor:"#5b8c00",bgColor:"#fcffe6"}],["magenta",{textColor:"#9e1068",bgColor:"#fff0f6"}],["volcano",{textColor:"#d4380d",bgColor:"#fff2e8"}],["gold",{textColor:"#ad6800",bgColor:"#fffbe6"}],["geekblue",{textColor:"#10239e",bgColor:"#f0f5ff"}],["gray",{textColor:"#666666",bgColor:"#F5F5F5"}]]),f=T()(M.keys());function I(C){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"type";if(!C)return C;var j=new Map;return C.forEach(function(p){if(!p[s])throw new Error("genColorMap error: miss key: "+s+" in element");if(!j.has(p[s])){var P=j.size%f.length,N=f[P],w=M.get(N);j.set(p[s],i()(i()({},p),{},{color:w}))}}),j}},87976:function(L,Z,r){"use strict";var b=r(13183),i="",O=b.Z.create({baseURL:"".concat(i,"/api/"),headers:{Authorization:"senv2wk7w4jo93fn(um40lfdc!dycp#fcupm7^1ocdh6d@bn0t"}});Z.Z=O},62938:function(){}}]);
