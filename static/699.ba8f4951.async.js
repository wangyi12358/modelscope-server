(self.webpackChunkai_frontend=self.webpackChunkai_frontend||[]).push([[699],{65348:function(x,e,n){"use strict";n.d(e,{Z:function(){return i}});var s=n(93236),r=n(38430),u={langBadge:"langBadge___GAdAy"},v=n(62086),d=[{lang:"en_US",name:"EN"},{lang:"zh_CN",name:"\u4E2D\u6587"}],l=(0,r.l)(d,"lang"),m=function(a){var f=l.get(a.lang);return(0,v.jsx)("span",{className:u.langBadge,style:{backgroundColor:f.color.textColor},children:f.name})},i=m},440:function(x,e,n){"use strict";n.r(e),n.d(e,{default:function(){return w}});var s=n(30279),r=n.n(s),u=n(46686),v=n.n(u),d=n(35290),l=n.n(d),m=n(411),i=n.n(m),t=n(93236),a=n(8195),f=n(35768),h=n(66122),j=n(24381),_=n(46859),A=n(72734),z=n(65499),V=n(87976),J=n(36752),Y=n(74524),H={footer:"footer___CvaU9"},W=n(66124),U=n(65348),c=n(62086),X=a.Z.Title,Q=(0,t.memo)(function(B){var I,o=B.model,L=B.open,R=B.onClose,b=function(){var O=i()(l()().mark(function E($){return l()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",V.Z.post(o.apiPath,$));case 1:case"end":return G.stop()}},E)}));return function($){return O.apply(this,arguments)}}(),Z=f.Z.useForm(),g=v()(Z,1),M=g[0],F=(o==null?void 0:o.samples)&&o.samples.length>0,K=(0,W.Z)(b,{manual:!0}),N=K.loading,T=K.data,k=K.run,S=K.mutate,y=(0,t.useCallback)(function(){if(F){var O=(0,J.ei)(o.samples);M.setFieldValue("inputContent",O)}},[M,F,o]),p=function(){return F&&o.samples.length>1?(0,c.jsx)(h.Z,{size:"small",disabled:N,onClick:y,icon:(0,c.jsx)(Y.Z,{}),children:"\u66F4\u6362\u793A\u4F8B"}):null},D=(0,t.useMemo)(function(){return(0,c.jsx)(f.Z.Item,{name:"inputContent",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6D4B\u8BD5\u5185\u5BB9!"}],children:(0,c.jsx)(A.default,{type:o.input})})},[o]),P=(0,t.useMemo)(function(){var O;if(T&&T!==null&&T!==void 0&&(O=T.data)!==null&&O!==void 0&&O.data){var E,$=T==null||(E=T.data)===null||E===void 0?void 0:E.data;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(X,{level:5,children:"\u6D4B\u8BD5\u7ED3\u679C:"}),(0,c.jsx)(z.default,{type:o.output,data:$})]})}return null},[T,o]),C=function(E){k(r()({},E))};return(0,t.useEffect)(function(){F&&M.setFieldValue("inputContent",o==null?void 0:o.samples[0])},[M,F,o==null?void 0:o.samples]),o?(0,c.jsx)(j.Z,{extra:p(),title:(0,c.jsxs)("span",{children:[o.name," \u6D4B\u8BD5\u5185\u5BB9"," ",(0,c.jsx)(_.Z,{children:(I=o.languages)===null||I===void 0?void 0:I.map(function(O){return(0,c.jsx)(U.Z,{lang:O},O)})})]}),afterOpenChange:function(E){E?y():(M.resetFields(),S(void 0))},destroyOnClose:!0,open:L,onClose:R,width:"70%",footer:(0,c.jsx)("div",{className:H.footer,children:(0,c.jsxs)(_.Z,{size:24,children:[(0,c.jsx)(h.Z,{onClick:R,children:"\u5173\u95ED"}),(0,c.jsx)(h.Z,{type:"primary",onClick:function(){return M.submit()},loading:N,children:"\u63D0\u4EA4\u6D4B\u8BD5"})]})}),children:(0,c.jsxs)("div",{children:[(0,c.jsx)(f.Z,{layout:"vertical",form:M,onFinish:C,children:D}),(0,c.jsx)("div",{children:N?(0,c.jsx)(X,{level:5,children:"\u6D4B\u8BD5\u7ED3\u679C\u751F\u6210\u4E2D, \u8BF7\u7A0D\u7B49..."}):P})]})}):null}),w=Q},72734:function(x,e,n){"use strict";n.r(e);var s=n(30279),r=n.n(s),u=n(44463),v=n.n(u),d=n(70412),l=n(75558),m=n(93236),i=n(62086),t=["type"],a=(0,m.memo)(function(f){var h=f.type,j=v()(f,t);switch(h){case"text":return(0,i.jsx)(d.default,r()({},j));case"videoUrl":case"imageUrl":return(0,i.jsx)(l.default,r()({},j));default:return(0,i.jsxs)("div",{children:["\u6682\u65E0\u6B64\u7C7B\u578B\u8F93\u5165\u6A21\u5757 : ",(0,i.jsx)("strong",{children:h})]})}});e.default=a},75558:function(x,e,n){"use strict";n.r(e),n.d(e,{default:function(){return w}});var s=n(93236),r=n(14536),u=n(86004),v=n(47277),d=n(30279),l=n.n(d),m=n(94434),i=n.n(m),t=n(35290),a=n.n(t),f=n(411),h=n.n(f),j=n(46686),_=n.n(j),A=n(65713),z=n(17986),V=n(66122),J=n(61654),Y=n(87976);function H(){return W.apply(this,arguments)}function W(){return W=h()(a()().mark(function B(){return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Y.Z.get("oss/sign"));case 1:case"end":return o.stop()}},B)})),W.apply(this,arguments)}var U=n(62086),c=(0,s.memo)(function(B){var I=B.value,o=B.onChange,L=B.children,R=B.onUploaded,b=(0,s.useState)(),Z=_()(b,2),g=Z[0],M=Z[1],F=function(){var S=h()(a()().mark(function y(){var p,D;return a()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.prev=0,C.next=3,H();case 3:D=C.sent,M(D==null||(p=D.data)===null||p===void 0?void 0:p.data),C.next=11;break;case 7:C.prev=7,C.t0=C.catch(0),console.error(C.t0),A.ZP.error("\u4E0A\u4F20\u5931\u8D25,\u8BF7\u7A0D\u540E\u91CD\u8BD5");case 11:case"end":return C.stop()}},y,null,[[0,7]])}));return function(){return S.apply(this,arguments)}}(),K=function(y){var p,D=y.fileList;console.log("Aliyun OSS:",D),o==null||o(i()(D)),D==null||(p=D.forEach)===null||p===void 0||p.call(D,function(P){if((P==null?void 0:P.percent)===100){var C=(g==null?void 0:g.host)+"/"+(P==null?void 0:P.url);R==null||R(C,P)}})},N=function(y){return{key:y.url,OSSAccessKeyId:g==null?void 0:g.OSSAccessKeyId,policy:g==null?void 0:g.policy,Signature:g==null?void 0:g.Signature}},T=function(){var S=h()(a()().mark(function y(p){var D,P,C;return a()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(g){E.next=2;break}return E.abrupt("return",!1);case 2:if(D=Number(g.expire)*1e3,!(D<Date.now())){E.next=6;break}return E.next=6,F();case 6:return P=p.name.slice(p.name.lastIndexOf(".")),C=Date.now()+P,p.url=g.dir+"/"+C,E.abrupt("return",p);case 10:case"end":return E.stop()}},y)}));return function(p){return S.apply(this,arguments)}}(),k={name:"file",fileList:I,multiple:!1,maxCount:1,accept:"video/*, image/*",action:g==null?void 0:g.host,onChange:K,data:N,beforeUpload:T,showUploadList:!1};return(0,U.jsx)(z.Z,l()(l()({},k),{},{children:L||(0,U.jsx)(V.Z,{onClick:function(){F()},icon:(0,U.jsx)(J.Z,{}),children:"\u70B9\u51FB\u4E0A\u4F20"})}))}),X=c,Q=(0,s.memo)(function(B){var I=B.value,o=B.onChange,L=o===void 0?function(){}:o,R=function(M){var F=M.target.value;L(F)},b=(0,v.Z)(R,{wait:300}),Z=b.run;return(0,U.jsxs)("div",{children:[(0,U.jsx)(r.default,{src:I}),(0,U.jsxs)(u.Z.Group,{compact:!0,children:[(0,U.jsx)(u.Z,{style:{width:"80%"},value:I,onChange:Z})," ",(0,U.jsx)(X,{onUploaded:function(M){L(M)}})]})]})}),w=Q},14536:function(x,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var s=n(93236),r=n(41385),u=n(17771),v=n(5476),d={preview:"preview___Rqv6O"},l=n(62086),m=(0,s.memo)(function(t){var a=t.src,f=(0,u.A)({sources:[{src:a}],autoplay:"muted"}),h=f.Video,j=(0,s.useMemo)(function(){return a?(0,v.fromExtension)(a):void 0},[a]),_=(0,s.useMemo)(function(){var A=null;return j==="image"&&(A=(0,l.jsx)(r.Z,{src:a,width:300})),j==="video"&&(A=(0,l.jsx)(h,{src:a,width:300})),A},[h,j,a]);return(0,l.jsx)("div",{className:d.preview,children:_})}),i=m},70412:function(x,e,n){"use strict";n.r(e);var s=n(30279),r=n.n(s),u=n(93236),v=n(86004),d=n(62086),l=v.Z.TextArea,m=(0,u.memo)(function(i){return(0,d.jsx)(l,r()({rows:6,placeholder:"\u8BF7\u8F93\u5165\u6D4B\u8BD5\u5185\u5BB9."},i))});e.default=m},65499:function(x,e,n){"use strict";n.r(e);var s=n(30279),r=n.n(s),u=n(44463),v=n.n(u),d=n(43495),l=n(89347),m=n(39801),i=n(50726),t=n(93236),a=n(62086),f=["type"],h=(0,t.memo)(function(j){var _=j.type,A=v()(j,f);switch(_){case"texts":case"text":return(0,a.jsx)(m.default,r()({},A));case"imageUrl":return(0,a.jsx)(i.default,r()({},A));case"scores":return(0,a.jsx)(l.default,r()({},A));case"spans":return(0,a.jsx)(d.default,r()({},A));default:return(0,a.jsxs)("div",{children:["\u6682\u65E0\u6B64\u7C7B\u578B\u8F93\u51FA\u6A21\u5757 : ",(0,a.jsx)("strong",{children:_})]})}});e.default=h},50726:function(x,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var s=n(93236),r=n(41385),u={imageBox:"imageBox___kwPcl"},v=n(62086),d=(0,s.memo)(function(m){return(0,v.jsx)("div",{className:u.imageBox,children:(0,v.jsx)(r.Z,{src:m.data,preview:!0})})}),l=d},89347:function(x,e,n){"use strict";n.r(e);var s=n(93236),r=n(33900),u=n(62086),v=(0,s.memo)(function(d){return d.data?(0,u.jsx)(r.Z,{pagination:!1,bordered:!0,dataSource:d.data,rowKey:"label",columns:[{dataIndex:"label",title:"\u9884\u6D4B\u7ED3\u679C"},{dataIndex:"score",title:"\u9884\u6D4B\u6982\u7387(\u53EF\u4FE1\u5EA6)"}]}):null});e.default=v},43495:function(x,e,n){"use strict";n.r(e);var s=n(94434),r=n.n(s),u=n(93236),v=n(62464),d=n(38430),l=n(62086),m=(0,u.memo)(function(i){var t=i.data;if(t&&t.length){var a=(0,d.l)(t);return(0,l.jsx)(l.Fragment,{children:r()(a.values()).map(function(f,h){return(0,l.jsx)(v.default,{type:f.label,color:f.color,children:f.span},h)})})}return null});e.default=m},62464:function(x,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var s=n(93236),r={wrap:"wrap___kS59A"},u=n(62086),v=(0,s.memo)(function(l){var m=l.children,i=l.type,t=l.color;return i?(0,u.jsxs)("dl",{className:r.wrap,style:{backgroundColor:t==null?void 0:t.bgColor,borderColor:t==null?void 0:t.textColor},children:[(0,u.jsx)("dt",{children:m}),(0,u.jsx)("dd",{style:{color:t==null?void 0:t.textColor},children:i})]}):(0,u.jsx)("span",{children:m})}),d=v},39801:function(x,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var s=n(93236),r={list:"list___xeNje",item:"item___k2KDK"},u=n(62086),v=(0,s.memo)(function(l){var m=l.data;if(!m)return null;var i=[].concat(m);return(0,u.jsx)("div",{className:r.list,children:i.map(function(t,a){return(0,u.jsx)("div",{className:r.item,children:t},a)})})}),d=v},38430:function(x,e,n){"use strict";n.d(e,{l:function(){return m}});var s=n(30279),r=n.n(s),u=n(94434),v=n.n(u),d=new Map([["blue",{textColor:"#5B8DFA",bgColor:"#EBF0FF"}],["purple",{textColor:"#9978F6",bgColor:"#EFE9FF"}],["cyan",{textColor:"#5DD5D1",bgColor:"#E5FCF7"}],["pink",{textColor:"#DD73F6",bgColor:"#FFE8FF"}],["yellow",{textColor:"#F9B847",bgColor:"#FFF6E3"}],["green",{textColor:"#5BD695",bgColor:"#EDFCF3"}],["red",{textColor:"#F26691",bgColor:"#FFECF0"}],["lime",{textColor:"#5b8c00",bgColor:"#fcffe6"}],["magenta",{textColor:"#9e1068",bgColor:"#fff0f6"}],["volcano",{textColor:"#d4380d",bgColor:"#fff2e8"}],["gold",{textColor:"#ad6800",bgColor:"#fffbe6"}],["geekblue",{textColor:"#10239e",bgColor:"#f0f5ff"}],["gray",{textColor:"#666666",bgColor:"#F5F5F5"}]]),l=v()(d.keys());function m(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"type";if(!i)return i;var a=new Map;return i.forEach(function(f){if(!f[t])throw new Error("genColorMap error: miss key: "+t+" in element");if(!a.has(f[t])){var h=a.size%l.length,j=l[h],_=d.get(j);a.set(f[t],r()(r()({},f),{},{color:_}))}}),a}},87976:function(x,e,n){"use strict";var s=n(13183),r="http://ai.tbanx.cn",u=s.Z.create({baseURL:"".concat(r,"/api/"),headers:{Authorization:"senv2wk7w4jo93fn(um40lfdc!dycp#fcupm7^1ocdh6d@bn0t"}});e.Z=u},62938:function(){}}]);
